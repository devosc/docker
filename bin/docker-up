#!/usr/bin/env bash

source docker-build-env

# start services
if [ "-a" = "$1" ] || [ "-a" = "$2" ]; then
    echo -e "\x1B[1;32mStarting services\x1B[0m"
    docker-services up
fi

file="$(pwd)/docker-compose.yml"

if [ -f $file ]; then
    echo -e "\x1B[1;32mStarting project\x1B[0m"

    # build images before starting containers
    build=""
    if [ "--build" = "$1" ] || [ "--build" = "$2" ]; then
        build="--build";
    fi

    docker-compose --file $file up -d $build
else
    echo -e "\x1B[1;31mProject not found\x1B[0m"
fi
